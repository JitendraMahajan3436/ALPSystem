@model REIN_MES_System.Models.RS_Route_Configurations
@using REIN_MES_System.App_LocalResources;

@{
    ViewBag.Title = "DailyReport";
    Layout = "~/Views/Shared/WithoutSideBarNoMenu/_Layout.cshtml";
    var globalData = (REIN_MES_System.Models.GlobalData)ViewData["GlobalDataModel"];
    int Stages = ViewBag.Stages != null ? ViewBag.Stages: 0;
    int PresentDeployedEmp = ViewBag.PresentDeployedEmp != null ? ViewBag.PresentDeployedEmp : 0;
    int PresentAbsCoverageEmp = ViewBag.PresentAbsCoverageEmp != null ? ViewBag.PresentAbsCoverageEmp : 0;
    int AbsentEmp = ViewBag.AbsentEmp != null ? ViewBag.AbsentEmp : 0;
}


<script src="~/Content/Loader/jquery.buttonLoader.js"></script>
<style>
    .demo {
        max-height: 500px;
        overflow: auto;
    }

    .messageflow_msg {
        padding: .5em .5em .5em .5em;
        height: 3em;
        width: 300px !important;
    }

    #testy {
        z-index: 99999;
    }

    .users-list>li {
    width: 31%;
    float: left;
    padding: 10px;
    text-align: left;
}
   
.users-list>li img {
    /*border-radius: 50%;*/
    max-width: 100%;
    height: auto;
}
    .loader_div{
  position: absolute;
  top: 0;
  bottom: 0%;
  left: 0;
  right: 0%;
  z-index: 99;
  opacity:0.7;
  display:none;
  background: lightgrey url('../../Content/images/loader/gears.gif') center center no-repeat;
}
</style>
@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal route_configuration">
        <div id="testy"></div>
        <div class="row">

            <div class="col-md-9">

                <div class="box-header with-border">

                    <div class="box box-warning box-solid">
                        <div class="box-header with-border">
                            <h3 class="box-title"><b>Daily </b></h3>
                            
                            @*<i id="site_trash_box" class="fa fa-fw fa-trash"></i>
                            <a onclick="Refresh()"><i  id="site_refresh_box" class="fa fa-refresh"></i></a>*@
                            <a href="@Url.Action("OJTDataUpload","AddUsers")  "><i class="glyphicon glyphicon-plus-sign" data-toggle="tooltip" title="Upload OJT Configuration Data" style="float:right;font-size:24px;font-weight:500;margin-left:1%;"></i></a>                                                                      
                               <a href="@Url.Action("AllConfigurationExcelUpload","AddUsers")  "><i class="fa fa-upload" data-toggle="tooltip" title="Upload All Configuration Data" style="float:right;font-size:24px;font-weight:500;"></i></a>                                                                      
                        </div>
                        <div class="box-body">
                            <div class="row">
                                <div class="col-sm-2">
                                    <input type="hidden" value="0" name="hdnSelectedStation" id="hdnSelectedStation" />
                                    <input type="hidden" value="" name="hdnSelectedOperator" id="hdnSelectedOperator" />
                                    <input type="hidden" value="" name="hdnRouteConfigurationDisplay" id="hdnRouteConfigurationDisplay" />
                                    @Html.LabelFor(model => model.Shop_ID, ResourceShop.Shop_Label_Shop_Select, new { @class = "" })
                                    @Html.DropDownList("Shop_ID", null, "Shop", htmlAttributes: new { @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.Shop_ID)
                                    @Html.ValidationMessageFor(model => model.Shop_ID, null, new { @class = "validation_error oShopID" })
                                </div>
                                <div class="col-sm-2">
                                    @Html.LabelFor(model => model.Line_ID, ResourceLine.Line_Label_Line_Select, new { @class = "" })
                                    @*@Html.DropDownList("Line_ID", (SelectList)ViewBag.Line_ID, ResourceLine.Line_Label_Name, htmlAttributes: new { @class = "form-control" })*@
                                    @Html.DropDownList("Line_ID", null, "-----SELECT-----", htmlAttributes: new { @class = "form-control", @Style = "width:100%" })
                                    @Html.ValidationMessageFor(model => model.Line_ID)
                                    @Html.ValidationMessageFor(model => model.Line_ID, null, new { @class = "validation_error olineID" })
                                </div>
                                <div class="col-sm-2">
                                    @Html.LabelFor(model => model.Setup_ID, "Setup Name", new { @class = "" })
                                    @Html.DropDownList("Setup_ID", null, "-----SELECT-----", htmlAttributes: new { @class = "form-control", @Style = "width:100%" })
                                    @Html.ValidationMessageFor(model => model.Setup_ID)
                                    @Html.ValidationMessageFor(model => model.Setup_ID, null, new { @class = "validation_error oSetupID" })
                                </div>
                                @*<div class="col-sm-3">

                <div class="site_trash_box">
                    <i class="fa fa-fw fa-trash"></i>
                </div>
            </div>*@


                                <div class="col-sm-2">
                                    @Html.Label("From Day", new { @class = "" })
                                    @*@Html.DropDownListFor(model => model.Day, new SelectList(new List<object> { new { value = "", text = "Day" }, new { value = "0", text = "Monday" }, new { value = "1", text = "Tuesday" }, new { value = "2", text = "Wednesday" }, new { value = "3", text = "Thursday" }, new { value = "4", text = "Friday" },  new { value = "5", text = "Saturday" } }, "value", "text", @ViewBag.CurrentDay), new { @class = "form-control" })*@
                                    @Html.DropDownListFor(model => model.FromDay, new SelectList(new List<object> { new { value = "", text = "Day" }, new { value = "1", text = "Monday" }, new { value = "2", text = "Tuesday" }, new { value = "3", text = "Wednesday" }, new { value = "4", text = "Thursday" }, new { value = "5", text = "Friday" }, new { value = "6", text = "Saturday" }, new { value = "7", text = "Sunday" } }, "value", "text", @ViewBag.CurrentDay), new { @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.FromDay, null, new { @class = "validation_error ofDay" })
                                </div>

                                <div class="col-sm-2">
                                    @Html.Label("To Day", new { @class = "" })
                                    @*@Html.DropDownListFor(model => model.Day, new SelectList(new List<object> { new { value = "", text = "Day" }, new { value = "0", text = "Monday" }, new { value = "1", text = "Tuesday" }, new { value = "2", text = "Wednesday" }, new { value = "3", text = "Thursday" }, new { value = "4", text = "Friday" },  new { value = "5", text = "Saturday" } }, "value", "text", @ViewBag.CurrentDay), new { @class = "form-control" })*@
                                    @Html.DropDownListFor(model => model.Day, new SelectList(new List<object> { new { value = "", text = "Day" }, new { value = "1", text = "Monday" }, new { value = "2", text = "Tuesday" }, new { value = "3", text = "Wednesday" }, new { value = "4", text = "Thursday" }, new { value = "5", text = "Friday" }, new { value = "6", text = "Saturday" }, new { value = "7", text = "Sunday" } }, "value", "text", @ViewBag.CurrentDay), new { @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.Day, null, new { @class = "validation_error oDay" })
                                </div>

                                <div class="col-sm-2">
                                    @Html.Label("Shift", new { @class = "" })
                                    @Html.DropDownList("Shift1", null, ResourceDisplayName.Shift, htmlAttributes: new { @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.Shift1, null, new { @class = "validation_error oShift" })
                                </div>
                            </div>
                            <div class="row">
                                <div class="site_trash_box col-sm-2">
                                    <i id="site_trash_box" class="fa fa-fw fa-trash"></i>
                                </div>
                                <div class="site_refresh_box col-sm-2">
                                    <a onclick="Refresh()"><i id="site_refresh_box" class="fa fa-refresh"></i></a>
                                </div>
                                <div class="col-md-2 btnpublish">
                                    <input type="button"  style="    margin-left: -20%;" class="btn btn-primary" id="btnPublish" value="Publish">
                                </div>
                                <div class="col-md-2 btnsetupfreeze" style="margin-left: -9%;">
                                    @*<button class="btn btn-primary" id="btnSetupFreeze" @*data-toggle="modal" data-target="#FreezeSetup"* onclick="OpenPopup()">Setup Freeze</button>*@ 
                                    <input type="button" class="btn btn-primary" id="btnSetupFreeze" @*data-toggle="modal" data-target="#FreezeSetup"*@ onclick="OpenPopup()" value="Setup Freeze" />

                                </div>
                                <div class="col-md-2 btnExcelFormat">
                                    @*<button class="btn btn-primary" id="btnSetupFreeze" @*data-toggle="modal" data-target="#FreezeSetup"* onclick="OpenPopup()">Setup Freeze</button>*@
                                    <input type="button" style="margin-left: 30%;" class="btn btn-primary" id="btnExcelFormat" @*data-toggle="modal" data-target="#FreezeSetup"*@ @*onclick="OpenPopup()"*@ value="Export Excel" />

                                </div>

                            </div>
                                @*<div class="col-sm-3">
                                    <br />
                                    <div class="site_refresh_box">
                                        <a onclick="Refresh()"><i class="fa fa-refresh"></i></a>
                                    </div>
                                </div>*@
                           
                            
                        </div>
                    </div>





                </div>

            </div>
            <div class="col-md-3">
                <div class="">
                <div class="box-header with-border">

                    <div class="box box-warning box-solid">
                        <div class="box-header with-border">
                            <h3 class="box-title"><b>Summary </b></h3>
                        </div>
                        <div class="box-body">
                            <div class="row">
                                <div class="col-sm-12">
                                    <label style="font-size:13px">No. Of Stages = </label>
                                    <span id="lblStages">0</span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <label style="font-size:13px">Present Direct Employee = </label>
                                    <span id="lblPDEmp">0</span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <label style="font-size:13px">Present InDirect Employee = </label>
                                    <span id="lblPIDEmp">0</span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <label style="font-size:13px">Present OJT Training Employee = </label>
                                    <span id="lblPOTEmp">0</span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <label style="font-size:13px">Present Abs Coverage Employee = </label>
                                    <span id="lblPACEmp">0</span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <label style="font-size:13px">Absent Employee = </label>
                                    <span id="lblAbsentEmp">0</span>
                                </div>
                            </div>
                            <div class="row">

                            </div>
                        </div>
                    </div>





                </div>
            </div>


                    
                </div>


                
            </div>
            @*<div class="col-md-4">


                <div class="">
                    <div class="box-header with-border">

                        <div class="box box-warning box-solid">
                            <div class="box-header with-border">
                                <h3 class="box-title">Weekly </h3>
                            </div>
                            <div class="box-body">
                                <div class="col-sm-5">
                                    @Html.LabelFor(model => model.Week, ResourceDisplayName.Week, new { @class = "" })
                                    @Html.DropDownList("weeks", null, ResourceDisplayName.Week, htmlAttributes: new { @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.Week, null, new { @class = "validation_error eWeek" })
                                </div>
                                <div class="col-sm-5">
                                    @Html.LabelFor(model => model.Week, ResourceDisplayName.Shift, new { @class = "" })
                                    @Html.DropDownList("Shift2", null, ResourceDisplayName.Shift, htmlAttributes: new { @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.Shift2, null, new { @class = "validation_error eShift2" })
                                </div>

                                <div class="col-sm-2" style="padding-top: 6.2%;padding-left: 1%;">
                                    <input type="button" class="btn btn-primary" id="btnShow" value="Show" />
                                </div>
                            </div>
                        </div>





                    </div>
                </div>

            </div>*@

        </div>



        <div class="row">
            <div class="col-md-12">
                <div class="box box-primary">
                    <label style="padding:2%;">Line Allocation</label>
                    <div id="configuration_errors" class="validation_error"></div>
                    <div id="unloading" class="" style="width: 100%; height:500px ; overflow-x: scroll;">
                        <div class="route_station_list" id="route_station_list"></div>
                    </div>
                    <div class="col-md-offset-5" id="loading" style="display:none">

                        @*<img style="width:auto;height:200px;" src="~/Content/images/loader/loader2.GIF" />*@
                        <img style="width:auto;height:150px;" src="~/Content/images/loader/gears.gif" />
                    </div>
                </div>
            </div>

        </div>
        <div class="row">
            @*<div class="col-md-4">
                <div class="box box-info">
                    <div class="box-header with-border">
                        <h3 class="box-title">Present Employee</h3>
                        <div class="box-tools pull-right">
                            <button data-widget="collapse" class="btn btn-box-tool"><i class="fa fa-minus"></i></button>
                            <button data-widget="remove" class="btn btn-box-tool"><i class="fa fa-times"></i></button>
                        </div>
                    </div>

                    <div id="operator_present_list" class="box-body">
                        <ul class="users-list clearfix"></ul>

                    </div>
                </div>
            </div>*@
            <div class="col-md-5">
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title"><b>Absent Employee</b></h3>
                        <div class="box-tools pull-right">
                            <button data-widget="collapse" class="btn btn-box-tool"><i class="fa fa-minus"></i></button>
                            <button data-widget="remove" class="btn btn-box-tool"><i class="fa fa-times"></i></button>
                        </div>
                    </div>
                    <div id="operator_abscent_list" class="box-body" style="min-height:100px">
                        <ul class="users-list clearfix"></ul>
                    </div>

                </div>
            </div>
            <div class="col-md-2">
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title"><b>Absent Operator Station List</b></h3>
                        <div class="box-tools pull-right">
                            <button data-widget="collapse" class="btn btn-box-tool"><i class="fa fa-minus"></i></button>
                            <button data-widget="remove" class="btn btn-box-tool"><i class="fa fa-times"></i></button>
                        </div>
                    </div>
                    <div id="abscent_operator_station_list" class="box-body" style="min-height:100px">
                        <ul class="users-list clearfix"></ul>
                    </div>

                </div>
            </div>
            <div class="col-md-5">
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title"><b style="font-size:65%;">Abs Coverage Manpower</b></h3>
                        <div class="box-tools pull-right" id="hideTransfernew" style="display:none;">
                            <span class="h3 box-title" ><b style="font-size:65%;">Abs Transfer</b></span>
                            <label class="switch" >
                               
                                <input type="checkbox" id="btnTransferEmpSlide" class="btnTransferEmpSlide1"/>
                                <span class="slider round"></span>
                            </label>
                            <button data-widget="collapse" class="btn btn-box-tool"><i class="fa fa-minus"></i></button>
                            <button data-widget="remove" class="btn btn-box-tool"><i class="fa fa-times"></i></button>
                        </div>
                    </div>
                    <div id="extra_operator_list" class="box-body" style="min-height:100px">
                        <ul class="users-list clearfix"></ul>
                    </div>

                </div>
            </div>
        </div>
        
    
}

<div class="modal" id="modalExternalTraining" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header box-solid">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">External Training</h4>
            </div>
            <div class="modal-body">
                @*<div class="container">*@
                    <div class="row">
                        <div class="form-horizontal">
                            <div class="row">
                               <div class="col-md-3">
                                   <label style="margin-left:2%"><b>Training Name</b></label>
                               </div>
                                 <div class="col-md-3">
                                     <input class="form-control" type="text" id="txtTrainingName" maxlength="50" />
                                 </div> 
                                </div>
                            <br />
                            <div class="row">  
                                   <div class="col-md-3">
                                       <label style="margin-left:2%"><b>Training Description</b></label>
                                   </div>
                                <div class="col-md-3">
                                    <input class="form-control" type="text" id="txtTrainingDescription" maxlength="100"  />
                                </div>
                                </div>
                            <br />
                            <div class="row">
                                <div class="col-md-3">
                                    </div>
                                    <div class="col-md-3">
                                        <button type="submit" class="btn btn-primary" id="btnSave">Save</button>
                                    </div>

                                </div>
                            
                            
                            @*<label for="trainingdetail"><b>Training Details</b></label>
                <input type="text" id="txtTrainingName" placeholder="Enter Training Name" />
                <input type="text" id="txtTrainingDescription" placeholder="Enter Traning Description" />
                <button type="submit" class="btn btn-primary" id="btnSave">Save</button>*@

                            <input type="hidden" id="hdnShopID" />
                            <input type="hidden" id="hdnLineID" />
                            <input type="hidden" id="hdnStationID" />
                            <input type="hidden" id="hdnSetupID" />
                            <input type="hidden" id="hdnShiftID" />
                            <input type="hidden" id="hdnEmpNo" />


                        </div>
                    </div>
                @*</div>*@
            </div>
            <div class="modal-footer">
                @*<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>*@
            </div>
        </div>
    </div><!-- /.modal-content -->
</div><!-- /.modal-dialog -->

<div class="modal" id="modalTransferEmployee" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header box-solid">
                <button type="button" class="close" id="btnclosetrans" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Abs Transfer Employee</h4>
            </div>
            <div class="modal-body">
                @*<div class="container">*@
                <div class="row">
                    <div class="form-horizontal">
                       
                            
                               
                            
                            @*<div class="col-md-3">
                               
                            </div>*@
                            <div class="col-md-12">
                                <label><b>Abs Transfer Employee</b></label>
                                @Html.DropDownList("New_Line_ID", null, "Select New Line", htmlAttributes: new { @class = "form-control" })
                                <div class="col-sm-5">

                                    <div class="box box-primary">
                                        <div class="box-body">
                                            <label class="" for="divListofSupervisor">Abs Operator List</label>
                                            <div id="divListForEmployee" style="height:400px;width:513px;overflow:auto;border:1px solid #cccccc; padding:10px;">

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br />
                        <div class="row" style="display:none">
                            <div class="col-md-3">
                                <label style="margin-left:2%"><b>Training Description</b></label>
                            </div>
                            <div class="col-md-3">
                                <input class="form-control" type="text" id="txtTrainingDescription" maxlength="100" />
                            </div>
                        </div>
                        <br />
                        <div class="row">
                            
                            <div class="col-md-5"    style="margin-left: 42%;">
                                <button type="submit" class="btn btn-primary" id="btnSave1">Save</button>
                            </div>
                            </div>
                        </div>


                        @*<label for="trainingdetail"><b>Training Details</b></label>
                            <input type="text" id="txtTrainingName" placeholder="Enter Training Name" />
                            <input type="text" id="txtTrainingDescription" placeholder="Enter Traning Description" />
                            <button type="submit" class="btn btn-primary" id="btnSave">Save</button>*@

                        <input type="hidden" id="hdnShopID" />
                        <input type="hidden" id="hdnLineID" />
                        <input type="hidden" id="hdnStationID" />
                        <input type="hidden" id="hdnSetupID" />
                        <input type="hidden" id="hdnShiftID" />
                        <input type="hidden" id="hdnEmpNo" />


                    </div>
                </div>
                @*</div>*@
            </div>
            <div class="modal-footer">
                @*<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>*@
            </div>
        </div>
    </div><!-- /.modal-content -->
</div><!-- /.modal-dialog -->

<div class="modal" id="FreezeSetup" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header box-solid">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Freeze Setup</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    
                    <h3>           Are you sure you want to freeze the setup? Once you click on "Yes" button then you can not change the setup.</h3>
                    <br/><br/>
                            <button type="button" style="float:right;width:80px" class="btn btn-secondary" data-dismiss="modal">No</button> &nbsp;&nbsp;&nbsp;
                    <button style="float:right;width:80px;" class="btn btn-primary has-spinner" id="btnSetupYes">Yes</button>
                    </div>
                </div>
                
            </div>

            <div class="modal-footer">
                
                @*<button class="btn btn-default has-spinner" id="one">Button1</button>*@
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->

<div class="modal" id="OJTHistory" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header box-solid">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title"><b>On Job Training - </b> <label id="lblOJTHistory"></label></h4>
            </div>
            <div class="modal-body">
                <table class="table table-bordered table-responsive" style="text-align:center" id="tblOJTHistory"></table>
                <div class="clearfix"></div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                @*<button class="btn btn-default has-spinner" id="one">Button1</button>*@
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<div class="modal" id="DeleteEmployee" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header box-solid">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Delete Allocated Employee</h4>
            </div>
            <div class="modal-body">
                <input type="hidden" name="EmployeeNo" id="EmployeeNo" value="" />
                <input type="hidden" name="stationId" id="stationId" value="" />
                <input type="hidden" name="shift" id="shift" value="" />
                <input type="hidden" name="line_ID" id="line_ID" value="" />
                <input type="hidden" name="fromDay" id="fromDay" value="" />
                <input type="hidden" name="toDay" id="toDay" value="" />
                <div class="row">
                    <div class="clearfix"></div>

                    <div class="col-sm-12">
                        

                        <div class="col-sm-3">
                            <button class="btn btn-primary has-spinner" id="btnThis">Delete Selected Employee</button> 
                        </div>

                        <div class="col-sm-3">
                            <button class="btn btn-primary has-spinner" id="btnAll">Delete All Allocated Employee</button>
                        </div>

                    </div>
                </div>
                <div class="clearfix"></div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                @*<button class="btn btn-default has-spinner" id="one">Button1</button>*@
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<div class="modal" id="WeeklyOperator" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header box-solid">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Weekly Operator Assign</h4>
            </div>
            <div class="modal-body">
                <p style="display:none;">Following defect will be marked as no defect.&hellip;</p>
                <div class="row">
                    <div class="clearfix"></div>

                    <div class="col-sm-12">
                        @*<div class="col-sm-3" style="display:none">
                                @Html.LabelFor(model => model.Week, "Week", new { @class = "" })
                                @Html.DropDownList("weeks2", null, ResourceDisplayName.Week, htmlAttributes: new { @class = "form-control" })

                            </div>*@
                        @*<div class="col-sm-3">
                                @Html.LabelFor(model => model.Week, "Assign Week", new { @class = "" })
                                @Html.DropDownList("weeks3", null, ResourceDisplayName.Week, htmlAttributes: new { @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.Week2, null, new { @class = "validation_error eWeek2" })
                            </div>*@

                        <div class="col-sm-3">
                            @Html.LabelFor(model => model.FromDate, "From Date", new { @class = "" })
                            <input type="text" id="txtFromDate" class="form-control" placeholder="From Date" min="2018-01-10" />
                            @Html.ValidationMessageFor(model => model.FromDate, null, new { @class = "validation_error fromDate" })
                        </div>

                        <div class="col-sm-3">
                            @Html.LabelFor(model => model.ToDate, "To Date", new { @class = "" })
                            <input type="text" id="txtToDate" class="form-control" placeholder="To Date" min="2018-01-10" />
                            @Html.ValidationMessageFor(model => model.FromDate, null, new { @class = "validation_error toDate" })
                        </div>

                        <div class="col-sm-3">
                            @Html.LabelFor(model => model.Week, ResourceDisplayName.Shift, new { @class = "" })
                            @Html.DropDownList("Shift3", null, ResourceDisplayName.Shift, htmlAttributes: new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.Shift3, null, new { @class = "validation_error eShift3" })
                        </div>
                        <div class="col-sm-3" style="padding-top: 3%;">
                            @*<input type="button" id="btnAssign" value="Assign" class="btn btn-primary has-spinner" />*@
                            <button class="btn btn-primary has-spinner" id="btnAssign">Assign</button>
                        </div>

                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="demo">
                            <table id="Weekly_Operator_table" style="margin-top:3%;"></table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                @*<button class="btn btn-default has-spinner" id="one">Button1</button>*@

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<script src="~/Scripts/DailyReport.js"></script>

<link href="~/Content/theme/plugins/datepicker/datepicker3.css" rel="stylesheet" />

<script src="~/Content/theme/plugins/datepicker/bootstrap-datepicker.js"></script>
<script src="~/Scripts/ajaxroutine.js"></script>

@section Scripts {

    @Scripts.Render("~/bundles/jquery_ui")
    @Scripts.Render("~/fdtheme/notification_js")

    @Styles.Render("~/fdtheme/notification_css");
<link href="~/Content/tablecss.css" rel="stylesheet" />
<link href="~/Content/Loader/buttonLoader.css" rel="stylesheet" />
    @*@Scripts.Render("~/bundles/DailyReportManagement_file")*@


    }


<script>
  

        //$("#Shop_ID").change(function () {
        //    if ($("#Shop_ID").val() != "Please select") {
        //        var options = {};
        //        options.url = "/dailyreportforsupervisor/getlinebyshopid";
        //        options.type = "POST";
        //        options.data = JSON.stringify({ shopId: $("#Shop_ID").val() });
        //        options.dataType = "json";
        //        options.contentType = "application/json";
        //        options.success = function (test) {
        //            $("#Line_ID").empty();
        //            $("#Line_ID").append($('<option>', { value: 0, text: '----Select---- ' }));
        //            $.each(test, function (i, data) {
        //                $("#Line_ID").append(
        //                    $('<option></option>').val(data.Line_ID).html(data.Line_Name));
        //            });
        //            $("#Line_ID").prop("disabled", false);
        //        };

        //        options.error = function () { };
        //        $.ajax(options);

        //        setTimeout(function () {
        //            debugger;
        //            var options = {};
        //            options.url = "/dailyreportforsupervisor/GetCurrentShift";
        //            options.type = "POST";
        //            options.data = JSON.stringify({ shopId: $("#Shop_ID").val() });
        //            options.dataType = "json";
        //            options.contentType = "application/json";
        //            options.success = function (test) {
        //                $("#Shift1").empty();
        //                $("#Shift1").append($('<option>', { value: 0, text: '----Select---- ' }));
        //                $.each(test, function (i, data) {
        //                    $("#Shift1").append(
        //                        $('<option></option>').val(data.Shift_ID).html(data.Shift_Name));
        //                });
        //                $("#Shift1").prop("disabled", false);
        //            };

        //            options.error = function () { };
        //            $.ajax(options);
        //        }, 2000)
        //    };
            
        //});
 
    //$(document).on("click", ".box-tools", function () {
    //    debugger;
    //    //End
    //    var options = {};
    //    var stationis = $("input[name='select_station']:checked").val();
    //    options.url = "/dailyreportforsupervisor/GetPresentSkilledEmployeeAgainstSelectedStation";
    //    options.type = "POST";
    //    options.data = JSON.stringify({ stationis: stationis });
    //    options.dataType = "json";
    //    options.contentType = "application/json";
    //    options.success = function (test) {
    //        debugger;
    //        var jsonRes = $.parseJSON(myajax.responseText);
    //        var res = "<ul class='users-list clearfix'>";
    //        for (var i = 0; i < jsonRes.length; i++) {
    //            res += '<li id="' + jsonRes[i].Employee_No + '">';
    //            //alert(jsonRes[i].Employee_No);
    //            res += '<img alt="User Image" src="content/theme/dist/img/user1-128x128.jpg">';
    //            res += '<a href="#" class="users-list-name">' + jsonRes[i].Employee_Name + '</a>';
    //            res += '<span class="users-list-date">' + jsonRes[i].Employee_No + '</span>';
    //            res += '</li>';
    //        }
    //        $("#operator_present_list").html(res);
    //        res += '</ul>';
    //        presentOperatorDraggable();
    //    };

    //    options.error = function () { };
    //    $.ajax(options);
    //});





        //$("#shop_id").on("change", function (e) {
        //    debugger;
        //    var stationid = $("#shop_id").val();
        //    if (stationid) {
        //        var url = "/dailyreportforsupervisor/getlinebyshopid";
        //        ajaxpack.getajaxrequest(url, "shopid=" + $("#shop_id").val() + "", showlineshopid, "json");

        //    }
        //    else {
        //        clearselectbox("line_id");
        //    }
        //});


        

        $(document).on("change", "[data-toggle='toggle']", function () {
            $(this).parents().next('.hide_content').toggle();
        });

        $("#txtFromDate").datepicker(
            {
                format: 'yyyy-mm-dd',
                startDate: '+0d',
                autoclose: true
            });
        $("#txtToDate").datepicker(
            {
                format: 'yyyy-mm-dd',
                startDate: '+0d',
                autoclose: true
            }
       );

        $(document).ready(function () {
            $("#unloading").hide();
            $("#btnThis").click(function () {
                var id = this.id;
                var EmpNo = $("#EmployeeNo").val();
                var StationId = $("#stationId").val();
                var SetupId = $("#Setup_ID").val();
                var shift = $("#shift").val();
                var lineId = $("#line_ID").val();
                var fromDay = $("#fromDay").val();
                var toDay = $("#toDay").val();
                url = "DailyReportForSupervisor/DeleteOperator";
                ajaxpack.getAjaxRequest(url, "Id=" + id + "&EmployeeNo=" + EmpNo + "&stationId=" + StationId + "&shift=" + shift + "&line_ID=" + lineId + "&fromDay=" + fromDay + "&toDay=" + toDay + "&setupID=" + SetupId, deleteData, "json");
            });
            $("#btnAll").click(function () {
                var id = this.id;
                var EmpNo = $("#EmployeeNo").val();
                var StationId = $("#stationId").val();
                var SetupId = $("#Setup_ID").val();
                var shift = $("#shift").val();
                var lineId = $("#line_ID").val();
                var fromDay = $("#fromDay").val();
                var toDay = $("#toDay").val();
                url = "DailyReportForSupervisor/DeleteOperator";
                ajaxpack.getAjaxRequest(url, "Id=" + id + "&EmployeeNo=" + EmpNo + "&stationId=" + StationId + "&shift=" + shift + "&line_ID=" + lineId + "&fromDay=" + fromDay + "&toDay=" + toDay + "&setupID=" + SetupId, deleteData, "json");
            });
        });

        function OpenPopup()
        {
            var shopId = $("#Shop_ID").val();
            var lineId = $("#Line_ID").val();
            var setupId = $("#Setup_ID").val();
            var fromDay = $("#FromDay").val();
            var toDay = $("#Day").val();
            var shiftId = $("#Shift1").val();
            if (shopId > 0 && lineId > 0 && setupId > 0 && fromDay > 0 && toDay > 0 && shiftId > 0)
            {
                $('#FreezeSetup').modal('show');
            }
            else
            {
                if (shopId == "") $('.oShopID').html('Please Select Shop');
                if (lineId == "") $('.olineID').html('Please Select Line');
                if (setupId == "") $('.oSetupID').html('Please Select Setup');
                if (fromDay == "") $('.ofDay').html('Please Select From Day');
                if (toDay == "") $('.oDay').html('Please Select To Day');
                if (shiftId == 0) $('.oShift').html('Please Select Shift');
            }
        }

        $('#btnSetupYes').click(function () {
            var shopId = $("#Shop_ID").val();
            var lineId = $("#Line_ID").val();
            var setupId = $("#Setup_ID").val();
            if (lineId > 0 && setupId > 0) {
                var url = "/dailyreportforsupervisor/setupfreeze";
                ajaxpack.getAjaxRequest(url, "lineID=" + lineId + "&setupID=" + setupId, showSetupFreeze, "json");
            }
        });
        
        $('#btnExcelFormat').click(function () {
            debugger
            var shopId = $("#Shop_ID").val();
            var lineId = $("#Line_ID").val();
            var setupId = $("#Setup_ID").val();
            var path = "/dailyreportforsupervisor/ExportData?ShopID=" + shopId + "&LineID=" + lineId + "&SetupID=" + setupId;
            window.open(path);
        });

        function showSetupFreeze() {
            var myajax = ajaxpack.ajaxobj
            var myfiletype = ajaxpack.filetype
            if (myajax.readyState == 4) {

                if (myajax.status == 200 || window.location.href.indexOf("http") == -1) { //if request was successful or running script locally
                   
                    var jsonRes = $.parseJSON(myajax.responseText);
                    if (jsonRes == true) {
                        $('#FreezeSetup').modal('hide');
                        document.location.reload();
                    }
                }
            }
        }

        //function clearSelectBox(targetId) {
        //    var res = "";
        //    res = "<option value=''>" + $("#" + targetId + " option:first").html() + "</option>";
        //    $("#" + targetId).html(res);
        //}

        function PublishDashboard()
        {
            var setupId = $("#Setup_ID").val();
            $("#hdnSelectedSetup").val(setupId);
        }

        function Refresh()
        {
            debugger;
            var shopId = $("#Shop_ID").val();
            var lineId = $("#Line_ID").val();
            var fromDay = $("#FromDay").val();
            var toDay = $("#Day").val();
            var shiftId = $("#Shift1").val();
            if (shopId > 0 && lineId > 0 && fromDay > 0 && toDay > 0 && shiftId > 0) {
                $('#Shift1').change();
            }
            else {
                if (shopId == "" || shopId == null) $('.oShopID').html("Please Select Shop");
                if (lineId == "" || lineId == null) $('.olineID').html("Please Select Line");
                if (fromDay == "" || fromDay == null) $('.ofDay').html("Please Select From Day");
                if (toDay == "" || toDay == null) $('.oDay').html("Please Select To Day");
                if (shiftId == "" || shiftId == null || shiftId == 0) $('.oShift').html("Please Select Shift");
            }
        }

        function deleteData() {
            var myajax = ajaxpack.ajaxobj
            var myfiletype = ajaxpack.filetype
            if (myajax.readyState == 4) {

                if (myajax.status == 200 || window.location.href.indexOf("http") == -1) { //if request was successful or running script locally

                    var jsonRes = $.parseJSON(myajax.responseText);
                    //alert("Data deleted Sucessfully");
                    if (jsonRes.msg == "Success") {
                        $('#testy').toastee({
                            type: 'success',
                            width: '200px',
                            height: '100px',
                            message: 'Operator Deleted Successfully...',
                        });
                        
                    }
                    else if (jsonRes.msg == "Previous") {
                        $('#testy').toastee({
                            type: 'error',
                            width: '300px',
                            height: '100px',
                            message: 'Can not  Deleted Previous Allocation...',
                        });
                    }
                    else {
                        $('#testy').toastee({
                            type: 'error',
                            width: '300px',
                            height: '100px',
                            message: 'Some problem occured while deleting operator...',
                        });
                    }
                    $("#DeleteEmployee").modal('hide');
                    $('#Shift1').change();

                }
            }
        }
</script>

    

<style type="text/css">
    .skin-yellow .main-header .logo {
        background-color: white;
    }

    .main-footer {
        bottom: 0;
        position: fixed;
        width: 100%;
    }

    #line_configurations td {
        border: 1px solid #cccccc;
        padding: 22px 0;
        width: 79px;
    }

    #line_configurations td {
        border: 1px solid #cccccc;
        height: 72px;
        min-height: 72px;
        min-width: 72px;
        padding: 0;
    }





    .station_items {
        height: 72px;
        padding: 0;
        width: 72px;
        z-index: 9999999;
    }


    .station_icon_items{
        /* width: 36px; */
        text-align: center;
        width: 72px;
        z-index: 99;
    }

    td .station_items{
        font-size: 12px;
    }

    .station_icon_items.line_arrow_down, .station_icon_items.line_arrow_up {
        height: 72px;
        margin: 0 22px;
        width: 25px;
    }

    /* td .station_icon_items.line_arrow_down, td .station_icon_items.line_arrow_up {
                        /*height: 99px;*/
                        /*margin: 0 23px;*/
                        /*width: 25px;*/
                      /*}*/

    .site_trash_box{
        border: 1px solid #cccccc;
        font-size: 23px;
        margin-top:1%;
        width:13.5%;
        margin-left:1.5%;
        /*padding: 5%;*/
        text-align: center;
    }

    .site_refresh_box{
        border: 1px solid #cccccc;
        font-size: 23px;
        margin-top:1%;
        width:13.5%;
        margin-left:3.3%;
        /*padding: 5%;*/
        text-align: center;
    }

    .btnpublish{
        margin-top:1%;
        margin-left:1.3%;
    }

    .btnsetupfreeze{
        margin-top:1%;
        margin-left:0.3%;
    }

    .station_operator ul {
        height: 140px;
        overflow-y: scroll;
    }

    .station_operator .remove {
        display: none;
        position: absolute;
        top: 81px;
    }

    li.remove-button {
    }
   .btnExcelFormat {
        margin-top:1%;
        margin-left:-5%;
    }
</style>
    

<style type="text/css">
    .emptable {
        width: 360px;
    }

    .tae {
        text-align: center;
    }
</style>



<style type="text/css">
    .slig {
        margin-left: 10%;
    }
</style>




<style type="text/css">
    /*<meta name="viewport" content="width=device-width, initial-scale=1" >*/

    .switch {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 34px;
    }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        -webkit-transition: .4s;
        transition: .4s;
    }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
        }

    input:checked + .slider {
        background-color: #2196F3;
    }

    input:focus + .slider {
        box-shadow: 0 0 1px #2196F3;
    }

    input:checked + .slider:before {
        -webkit-transform: translateX(26px);
        -ms-transform: translateX(26px);
        transform: translateX(26px);
    }

    /* Rounded sliders */
    .slider.round {
        border-radius: 34px;
    }

        .slider.round:before {
            border-radius: 50%;
        }
</style>

