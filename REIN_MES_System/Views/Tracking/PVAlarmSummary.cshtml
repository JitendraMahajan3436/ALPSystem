@using REIN_MES_System.Models
@{
    REIN_SOLUTIONEntities db = new REIN_SOLUTIONEntities();
}

<table class="table table-striped table-condensed">
    <thead>
        <tr>
            <th>Station Name</th>
            <th>Call Type</th>
            <th class="text-center">Stop Time</th>
            <th class="text-center">Resume Time</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var resultDataObj in ViewBag.CallSummary)
        {
            <tr>
                @if (resultDataObj.Line_Stop == true)
                {
                   decimal station_id=@resultDataObj.Station_ID;
                   RS_Stations station = db.RS_Stations.Where(p => p.Station_ID ==station_id).FirstOrDefault();
                   <td>@station.Station_Description</td>
                    
                    @*<td title="@resultDataObj.Remarks">Line Stop</td>*@
                    <td >Line Stop</td>
                }
                else if (resultDataObj.Maintenance_Call == true)
                {
                   decimal station_id=@resultDataObj.Station_ID;
                   RS_Stations station = db.RS_Stations.Where(p => p.Station_ID ==station_id).FirstOrDefault();
                   <td>@station.Station_Description</td>
                    
                    <td>Maintenance Call</td>
                }
                else if (resultDataObj.Emergency_Call == true)
                {
                   decimal station_id=@resultDataObj.Station_ID;
                   RS_Stations station = db.RS_Stations.Where(p => p.Station_ID ==station_id).FirstOrDefault();
                   <td>@station.Station_Description</td>
                    
                    <td>Emergency Call</td>
                }
                 else if (resultDataObj.Supervisor_Call == true)
                {
                   decimal station_id=@resultDataObj.Station_ID;
                   RS_Stations station = db.RS_Stations.Where(p => p.Station_ID ==station_id).FirstOrDefault();
                   <td>@station.Station_Description</td>
                     
                    <td>Supervisor Call</td>
                }
                else if (resultDataObj.Work_Delay == true)
                {
                   decimal station_id=@resultDataObj.Station_ID;
                   RS_Stations station = db.RS_Stations.Where(p => p.Station_ID ==station_id).FirstOrDefault();
                   <td>@station.Station_Description</td>
                    
                    <td>Work Delay</td>
                }
                else if (resultDataObj.Material_Call == true)
                {
                   decimal station_id=@resultDataObj.Station_ID;
                   RS_Stations station = db.RS_Stations.Where(p => p.Station_ID ==station_id).FirstOrDefault();
                   <td>@station.Station_Description</td>
                    
                    <td>Material Call</td>
                }
                <td class="text-center">@(resultDataObj.Start_Time == null ? "" : resultDataObj.Start_Time.ToString("d/M/yy hh:mm:ss tt"))</td>
                <td class="text-center">@(resultDataObj.End_Time == null ? "" : resultDataObj.End_Time.ToString("d/M/yy hh:mm:ss tt"))</td>
            </tr>
        }
    </tbody>
</table>
